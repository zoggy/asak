<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Asak__Clustering (asak.Asak__Clustering)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">asak</a> &#x00BB; Asak__Clustering</nav><h1>Module <code>Asak__Clustering</code></h1></header><div class="spec module" id="module-Distance"><a href="#module-Distance" class="anchor"></a><code><span class="keyword">module</span> <a href="Distance/index.html">Distance</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Hash"><a href="#module-Hash" class="anchor"></a><code><span class="keyword">module</span> <a href="Hash/index.html">Hash</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-HMap"><a href="#module-HMap" class="anchor"></a><code><span class="keyword">module</span> HMap : Stdlib.Map.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-HMap">HMap</a>.key = <a href="Hash/index.html#type-t">Hash.t</a></code></div><dl><dt class="spec value" id="val-symmetric_difference"><a href="#val-symmetric_difference" class="anchor"></a><code><span class="keyword">val</span> symmetric_difference : <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> option</span></code></dt><dd><p>Compute the symmetric difference of two <em>sorted</em> lists. Return None if the intersection was empty.</p></dd></dl><dl><dt class="spec value" id="val-semimetric"><a href="#val-semimetric" class="anchor"></a><code><span class="keyword">val</span> semimetric : <span><span>(int * <span class="type-var">'a</span>)</span> list</span> <span>&#45;&gt;</span> <span><span>(int * <span class="type-var">'a</span>)</span> list</span> <span>&#45;&gt;</span> <a href="Distance/index.html#type-t">Distance.t</a></code></dt><dd><p>Return the sum of the weight of the symmetric difference of the two arguments (or <code>Infinity</code> if the intersection was empty</p></dd></dl><dl><dt class="spec value" id="val-dist"><a href="#val-dist" class="anchor"></a><code><span class="keyword">val</span> dist : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="Distance/index.html#type-t">Distance.t</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Asak/Wtree/index.html#type-wtree">Asak.Wtree.wtree</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Asak/Wtree/index.html#type-wtree">Asak.Wtree.wtree</a></span> <span>&#45;&gt;</span> <a href="Distance/index.html#type-t">Distance.t</a></code></dt><dd><p>Compute recursively the dissimilarity between two clusters:</p><ul><li>If there is two <span class="xref-unresolved" title="unresolved reference to &quot;Wtree.Leaf&quot;"><code>Wtree</code>.Leaf</span>, use the sum of the weight of the symmetric difference of their hash lists (or <code>Infinity</code> if the intersection was empty).</li><li>If there is a <span class="xref-unresolved" title="unresolved reference to &quot;Wtree.Node&quot;"><code>Wtree</code>.Node</span>, use the <em>maximum</em> of the dissimilarities between the sub-trees and the other tree.</li></ul><p>This is not a mathematically valid distance, but only a semimetric.</p><p>The first argument must be an equivalent of <a href="index.html#val-semimetric"><code>semimetric</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-initial_cluster"><a href="#val-initial_cluster" class="anchor"></a><code><span class="keyword">val</span> initial_cluster : <span><span>(<span class="type-var">'a</span> * <a href="../Asak/Lambda_hash/index.html#type-fingerprint">Asak.Lambda_hash.fingerprint</a>)</span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="index.html#module-HMap">HMap</a>.t</span></code></dt><dd><p>Create initial cluster, grouping labels by fingerprint</p></dd></dl><dl><dt class="spec value" id="val-cluster"><a href="#val-cluster" class="anchor"></a><code><span class="keyword">val</span> cluster : <span>?&#8288;cores:int</span> <span>&#45;&gt;</span> <span>?&#8288;filter_small_trees:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <a href="../Asak/Lambda_hash/index.html#type-hash">Asak.Lambda_hash.hash</a>)</span> list</span> <span>&#45;&gt;</span> <span><span><span><span class="type-var">'a</span> list</span> <a href="../Asak/Wtree/index.html#type-wtree">Asak.Wtree.wtree</a></span> list</span></code></dt><dd><p>Given a list of AST hashes (identified by a key), perform a kind of complete-linkage clustering using <a href="index.html#val-semimetric"><code>semimetric</code></a>.</p><dl><dt>parameter cores</dt><dd><p>The number of cores that the function can use (by default, try to detect how many the computer has).</p></dd></dl><dl><dt>parameter filter_small_trees</dt><dd><p>If specified, will remove hashes that do not have at least this weight.</p></dd></dl><dl><dt>returns</dt><dd><p>A list of trees, where two keys are in the same tree if they share at least one hash and in the same leaf if they share exactly the same hash list.</p><p>The list is sorted with biggest trees first.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-print_cluster"><a href="#val-print_cluster" class="anchor"></a><code><span class="keyword">val</span> print_cluster : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span> <span>&#45;&gt;</span> <span><span><span><span class="type-var">'a</span> list</span> <a href="../Asak/Wtree/index.html#type-wtree">Asak.Wtree.wtree</a></span> list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Print recursively a cluster given a printer for the labels.</p></dd></dl></div></body></html>